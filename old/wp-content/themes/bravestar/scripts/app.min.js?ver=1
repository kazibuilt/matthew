"use strict";var bravestar={currentBreakpoint:null,smoothScrolling:!1,smoother:null,scrollTrigger:!1,smootherSettings:{normalizeScroll:!1,smoothTouch:.01,ignoreMobileResize:!0,content:"#smooth-inner",smooth:1,effects:!0},scrollAnimations:!1,scrollAnimationsOffset:300,internalScrollSpeed:2,headerOffset:200,headerClass:"scrolled",observer:null,menu:{elem:document.querySelector(".mobile-menu"),trigger:document.querySelector("#mb-nav"),hamburger:document.getElementById("ecfiIjQVx061"),player:null,open:!1,changeState:function(){var e=bravestar.menu.open?"100%":0;gsap.to(bravestar.menu.elem,{left:e,duration:bravestar.loader.transitionSpeed,onStart:function(){bravestar.menu.open?(bravestar.menu.player.reverse(),bravestar.smoother&&bravestar.smoother.paused(!1)):(bravestar.menu.elem.style.display="block",bravestar.menu.player.play(),bravestar.smoother&&bravestar.smoother.paused(!0))},onComplete:function(){bravestar.menu.open?(window.dispatchEvent(bravestar.events.menuClosed),setTimeout(function(){bravestar.menu.elem.style.display="none"},500)):window.dispatchEvent(bravestar.events.menuOpened),bravestar.menu.open=!bravestar.menu.open}})}},breakpoints:{sm:576,md:768,lg:1e3,xl:1920},loader:{transitionSpeed:1,delay:.3},init:function(){bravestar.scrollTrigger&&gsap.registerPlugin(ScrollTrigger),bravestar.ScrollSmoother&&gsap.registerPlugin(ScrollSmoother),this.calcBreakpoint(),window.addEventListener("resize",function(){bravestar.calcBreakpoint()}),bravestar.menu.player=bravestar.menu.hamburger?bravestar.menu.hamburger.svgatorPlayer:{},bravestar.menu.trigger.addEventListener("click",function(e){e.preventDefault(),bravestar.menu.changeState()}),bravestar.scrollTrigger&&gsap.to("#header",{scrollTrigger:{trigger:"body",start:"top top-="+bravestar.headerOffset+"px",once:!1,scrub:!1,toggleClass:{targets:"#header",className:bravestar.headerClass}}})},calcBreakpoint:function(){var e=window.innerWidth;e>=bravestar.breakpoints.xl&&(bravestar.currentBreakpoint="xl"),e>bravestar.breakpoints.md&&e<bravestar.breakpoints.xl&&(bravestar.currentBreakpoint="lg"),e<=bravestar.breakpoints.md&&e>bravestar.breakpoints.sm&&(bravestar.currentBreakpoint="md"),e<=bravestar.breakpoints.sm&&(bravestar.currentBreakpoint="sm")},events:{loaderComplete:new Event("loaderComplete"),menuOpened:new Event("menuOpened"),menuClosed:new Event("menuClosed")}};function _createForOfIteratorHelper(e,t){var r,n,o,a,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return n=!(r=!0),{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){n=!0,o=e},f:function(){try{r||null==i.return||i.return()}finally{if(n)throw o}}};if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}window.addEventListener("load",function(){bravestar.init(),bravestar.smoothScrolling&&(console.log("Setting up Smooth Scrolling"),bravestar.smoother=ScrollSmoother.create(bravestar.smootherSettings),ScrollTrigger.refresh(!0),"md"!=bravestar.currentBreakpoint&&"sm"!=bravestar.currentBreakpoint||(console.log("normalising scroll"),bravestar.smoother.normalizeScroll=!0,ScrollTrigger.refresh())),bravestar.scrollAnimations&&document.querySelectorAll(".row-inner").forEach(function(e){e.classList.contains("no-scroll-animation")||(ScrollTrigger.saveStyles(e),ScrollTrigger.matchMedia({"(min-width:1000px)":function(){e.style.opacity=0,gsap.to(e,{opacity:1,duration:.75,clearProps:!0,scrollTrigger:{trigger:e,start:"top bottom-="+bravestar.scrollAnimationsOffset+"px",markers:!0,once:!0}})}}))})}),"development"!=WP.environment&&"staging"!=WP.environment&&(console.log=function(){}),document.addEventListener("click",function(e){matches(e.target,[".cookie-settings a",".cookie-settings span"])&&document.querySelectorAll(".seopress-user-message , .seopress-user-consent-hide").forEach(function(e){e.classList.contains("seopress-user-consent-hide")?e.classList.add("seopress-user-consent-hide"):e.classList.remove("seopress-user-consent-hide")})});var clsValue=0,clsEntries=[],sessionValue=0,sessionEntries=[];function hashScroll(){window.location.hash&&bravestar.smoother&&(console.log(document.getElementById("header").style.height),gsap.set(bravestar.smoother,{scrollTop:bravestar.smoother.offset(window.location.hash,"top "+document.getElementById("header").offsetHeight+"px")}))}function loader(){sessionStorage.getItem("viewedLoader");var e="100%",t=(console.log(bravestar.currentBreakpoint),"lg"!==bravestar.currentBreakpoint&&"xl"!==bravestar.currentBreakpoint||(e="50%"),gsap.timeline({paused:!0,onStart:function(){document.querySelectorAll("#smooth-wrapper , #footer , #header").forEach(function(e){e.style.opacity=1}),hashScroll()},onComplete:function(){document.querySelector("#screen-loader").remove(),window.dispatchEvent(bravestar.events.loaderComplete),sessionStorage.setItem("viewedLoader",!0)}}));t.to(".loader-inner",{opacity:0,duration:bravestar.loader.transitionSpeed,delay:bravestar.loader.delay},"onload"),t.to(".loader-bottom-text",{opacity:0,duration:bravestar.loader.transitionSpeed,delay:bravestar.loader.delay},"onload"),"lg"===bravestar.currentBreakpoint||"xl"===bravestar.currentBreakpoint?t.to("#screen-loader",{width:e,duration:0,delay:bravestar.loader.delay}):t.to("#screen-loader",{height:e,duration:0,top:"70%",delay:bravestar.loader.delay}),console.log("bounds height = ".concat(window.imageArea.bounds.height)),t.from(window.imageArea.box,{y:"-="+window.imageArea.bounds.height,duration:1,ease:"steps(10)"}),t.addLabel("canvasReady"),t.to("#screen-loader",{opacity:0,duration:bravestar.loader.transitionSpeed,onStart:function(){var o=new gsap.timeline,e=document.querySelector("h1"),t=document.querySelector("h2");e.style.height=e.offsetHeight+"px",t.style.height=t.offsetHeight+"px",new TextScramble(e).setText(e.innerHTML).then(function(){o.to({},{delay:bravestar.loader.transitionSpeed,duration:6},0)});new TextScramble(t).setText(t.innerHTML).then(function(){o.to({},{delay:bravestar.loader.transitionSpeed,duration:6},0)});e=document.querySelector(".team-title");new TextScramble(e).setText(e.innerHTML).then(function(){o.to({},{delay:bravestar.loader.transitionSpeed,duration:6},0)}),document.querySelectorAll(".tile-team").forEach(function(e){var t=e.querySelector(".team-name"),e=e.querySelector(".job-role"),r=t.innerHTML,n=e.innerHTML;new TextScramble(e).setText(n).then(function(){o.to({},{delay:bravestar.loader.transitionSpeed,duration:6},0)}),new TextScramble(t).setText(r).then(function(){o.to({},{delay:bravestar.loader.transitionSpeed,duration:6},0)})}),o.to(".team-block",{opacity:1,duration:1},1.5),o.to(".ticker",{opacity:1,duration:1},1.5),o.to(".accreditation-container",{opacity:1,duration:1},1.5),o.to(".top-row",{opacity:1,duration:1},1.5)}},"canvasReady"),t.from(window.imageArea.letterMask,{y:"-="+window.imageArea.bounds.height,duration:1,ease:"steps(10)",onComplete:function(){window.imageArea.disruptorCircle.tl.play()}}),t.play()}new PerformanceObserver(function(e){var t,r=_createForOfIteratorHelper(e.getEntries());try{for(r.s();!(t=r.n()).done;){var n,o,a=t.value;a.hadRecentInput||(n=sessionEntries[0],o=sessionEntries[sessionEntries.length-1],sessionValue&&a.startTime-o.startTime<1e3&&a.startTime-n.startTime<5e3?(sessionValue+=a.value,sessionEntries.push(a)):(sessionValue=a.value,sessionEntries=[a]),clsValue<sessionValue&&(clsValue=sessionValue,clsEntries=sessionEntries,console.log("CLS:",clsValue,clsEntries)))}}catch(e){r.e(e)}finally{r.f()}}).observe({type:"layout-shift",buffered:!0}),document.querySelectorAll("a.scroll, li.scroll a").forEach(function(t){t.addEventListener("click",function(e){e.preventDefault();e=t.getAttribute("href");bravestar.smoother&&(console.log(document.getElementById("header").style.height),gsap.to(bravestar.smoother,{scrollTop:bravestar.smoother.offset(e,"top "+document.getElementById("header").offsetHeight+"px"),duration:bravestar.internalScrollSpeed,ease:"power4.out"}))})}),window.addEventListener("loaderReady",function(){console.log("loader is ready and the event received"),loader()});for(var prevLi,fakeMouse=document.querySelector("#fakeMouse"),links=(fakeMouse.style.opacity=0,document.addEventListener("mousemove",function(e){gsap.to(fakeMouse,{opacity:1,duration:.25}),fakeMouse.style.top=e.pageY+"px",fakeMouse.style.left=e.pageX+"px"}),document.querySelectorAll(".tile-team , .team-title , .close-team-panel , a")),nav=(links.forEach(function(e){e.addEventListener("mouseenter",function(){gsap.to(fakeMouse,{scale:1.25,duration:.25,repeat:-1,yoyo:!0})}),e.addEventListener("mouseleave",function(){gsap.killTweensOf("#fakeMouse"),gsap.to(fakeMouse,{scale:1,duration:.1})})}),document.querySelectorAll("ul.menu li > a, ul.menu li > span")),i=0;i<nav.length;i++)nav[i].addEventListener("focus",function(){this.parentNode.querySelector("li")&&this.parentNode.classList.add("focus"),(prevLi=this.parentNode.previousElementSibling)&&prevLi.classList.contains("focus")&&prevLi.classList.remove("focus")});for(var openMenu=document.querySelectorAll("ul.menu li > i"),i=0;i<openMenu.length;i++)openMenu[i].addEventListener("click",function(e){var t=this;e.preventDefault(),openMenu.forEach(function(e){t!==e&&e.parentElement.classList.remove("active")}),this.parentElement.classList.toggle("active")});document.querySelectorAll(".posts-filters").forEach(function(t){console.log("doing it"),t.addEventListener("change",function(){var e=WP.siteUrl+"/"+t.getAttribute("name")+"/"+t.value;window.open(e,"_self")})});var container=document.querySelector(".team-bio-container"),parentContainer=document.querySelector(".team-container"),teamMembers=document.querySelectorAll(".tile-team"),bioContainer=document.querySelector(".bio"),jobRoleContainer=document.querySelector(".job-role-popup"),nameContainer=document.querySelector(".name-popup"),linkedinLink=document.querySelector(".team-linkedin"),close=document.querySelector(".close-team-panel"),teamTiles=(teamMembers.forEach(function(o){o.addEventListener("click",function(){var e=o.getAttribute("data-bio"),t=o.getAttribute("data-linkedin"),r=o.querySelector(".job-role").innerHTML,n=o.querySelector(".team-name").innerHTML;t.length?(linkedinLink.style.display="inline",linkedinLink.setAttribute("href",t),linkedinLink.ariaLabel="view "+n+" profile on LinkedIn"):linkedinLink.style.display="none",gsap.to(container,{opacity:1,visibility:"visible",duration:.5}),nameContainer.innerHTML=n,jobRoleContainer.innerHTML=r,new TextScramble(bioContainer).setText(e).then(function(){gsap.to({},{duration:3})}),gsap.to(close,{opacity:1,visibility:"visible",duration:.1})})}),null!=close&&close.addEventListener("click",function(){gsap.to(container,{opacity:0,duration:.5,onComplete:function(){container.style.visibility="hidden"}}),gsap.to(close,{opacity:0,duration:.1,onComplete:function(){close.style.visibility="hidden"}})}),document.querySelectorAll(".tile-team"));function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}teamTiles.forEach(function(e){var t=e.querySelector(".team-name"),r=e.querySelector(".job-role"),n=t.innerHTML,o=r.innerHTML;close.addEventListener("click",function(){new TextScramble(r).setText(o).then(function(){gsap.to({},{duration:.5})});new TextScramble(t).setText(n).then(function(){gsap.to({},{duration:.5})})})});var TextScramble=function(){function t(e){_classCallCheck(this,t),this.el=e,this.chars="!<>-\\/[]{}—=+*^?#%@~",this.update=this.update.bind(this)}return _createClass(t,[{key:"setText",value:function(e){var t=this,r=this.el.innerText,n=Math.max(r.length,e.length),o=new Promise(function(e){return t.resolve=e});this.queue=[];for(var a=0;a<n;a++){var i=r[a]||"",s=e[a]||"",l=Math.floor(40*Math.random()),c=l+Math.floor(40*Math.random());this.queue.push({from:i,to:s,start:l,end:c})}return cancelAnimationFrame(this.frameRequest),this.frame=0,this.update(),o}},{key:"update",value:function(){for(var e="",t=0,r=0,n=this.queue.length;r<n;r++){var o=this.queue[r],a=o.from,i=o.to,s=o.start,l=o.end,o=o.char;this.frame>=l?(t++,e+=i):this.frame>=s?((!o||Math.random()<.28)&&(o=this.randomChar(),this.queue[r].char=o),e+='<span class="dud">'.concat(o,"</span>")):e+=a}this.el.innerHTML=e,t===this.queue.length?this.resolve():(this.frameRequest=requestAnimationFrame(this.update),this.frame++)}},{key:"randomChar",value:function(){return this.chars[Math.floor(Math.random()*this.chars.length)]}}]),t}();function ticker(){var e=document.querySelector(".ticker"),t=e.querySelector(".list"),r=t.cloneNode(!0),n=10,o=new gsap.timeline({repeat:-1,paused:!0});t.querySelectorAll("li").forEach(function(e){n+=e.offsetWidth}),e.clientWidth;r.classList.add("cloned"),r.style.width=n+"px",t.style.width=n+"px",e.appendChild(r),o.fromTo(t,{x:0},{x:-n,duration:130,ease:"none"},0).fromTo(r,{x:n},{x:0,duration:130,ease:"none"},0).set(t,{x:n}).to(r,{x:-n,duration:130,ease:"none"},130).to(t,{x:0,duration:130,ease:"none"},130).progress(1).progress(0).play()}document.querySelector(".ticker")&&ticker();var NowElement=function(e){var t,r=null,n=e.querySelector(".before"),i=e.querySelector(".after"),e=1.2,o=5,a="steps(10)",s=2.4,l=1,c="steps(24)";return r=new gsap.timeline({paused:!1}),t=setInterval(function(){n.innerHTML=Math.floor((new Date).getTime()/1e3)},1e3),setInterval(function(){var e=(new Date).getDate(),t=(new Date).getMonth()+1,r=(new Date).getFullYear(),n=(new Date).getHours(),o=(new Date).getMinutes(),a=(new Date).getSeconds();e<10&&(e=("0"+e).slice(-2)),t<10&&(t=("0"+t).slice(-2)),n<10&&(n=("0"+n).slice(-2)),o<10&&(o=("0"+o).slice(-2)),a<10&&(a=("0"+a).slice(-2)),i.innerHTML=e+"/"+t+"/"+r+" &middot "+n+":"+o+":"+a+" "+(12<=n?"PM":"AM")},1e3),void r.to(n,{width:0,duration:e,delay:o,ease:a,onComplete:function(){clearInterval(t),n.style.opacity=0}}).to(i,{width:"100%",duration:s,delay:l,ease:c,onStart:function(){i.style.opacity=1}})};function getParameterByName(e,t){t=t||window.location.href,e=e.replace(/[\[\]]/g,"\\$&");e=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return e?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":null}function matches(t,e){var r=!1;return e.forEach(function(e){document.querySelector(e)===t&&(r=!0)}),r}window.addEventListener("load",function(){document.querySelectorAll(".transition-wrap").forEach(function(e){e.nowElement=new NowElement(e)})});
